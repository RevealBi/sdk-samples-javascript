<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reveal Sdk - Web Component</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div id="revealView" style="height: 920px; width: 100%;"></div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
    <script src="./assets/reveal/infragistics.reveal.js"></script>

    <script type="text/javascript">
        //set this to your server url
        $.ig.RevealSdkSettings.setBaseUrl("https://localhost:7111/");

        $.ig.RevealSdkSettings.localizedStringsProvider = function (element, context) {
            var elementDesc = element.title !== undefined ? element.title.toString() : element.name.toString();
            var candidate = dictionaryTable[elementDesc];
            candidate = candidate !== undefined ? candidate[lang[navigator.language.split("-")[0]]] : elementDesc;

            if (element.elementType === $.ig.RVLocalizationElementType.DashboardFilterTitle || element.elementType === $.ig.RVLocalizationElementType.DashboardTitle) {
                candidate = candidate.toUpperCase()
            }
            else if (element.elementType === $.ig.RVLocalizationElementType.FieldLabel || element.elementType === $.ig.RVLocalizationElementType.VisualizationFieldLabel) {
                candidate = candidate.toLowerCase()
            } 

            return candidate;
        };

        var lang = {
            "en": 0,
            "ja": 1,
            "es": 2,
            "it": 3,
            "fr": 4
        }

        var dictionaryTable = {
            //"OriginalWord": ["English", "Japanese", "Spanish", "Italian", "French"], => example guide
            "Date Filter": ["Date Filter", "日付フィルター", "Filtro de Fecha", "Filtro data", "Filtre de date"],
            "Date": ["Date", "日にち", "Fecha", "Data", "Date"],
            "Marketing": ["Marketing", "マーケティング", "Marketing", "Marketing", "Commercialisation"],
            "Spend": ["Spend", "費やす", "Gastado", "Spendere", "Dépenser"],
            "Budget": ["Budget", "バジェット", "Presupuesto", "Bilancio", "Budget"],
            "CTR": ["CTR", "クリック率", "CTR", "CTR", "CTR"],
            "Spend by Territory": ["Spend by Territory", "テリトリー別支出額", "Gastos por territorios", "Spese per territorio", "Dépenses par territoire"],
            "Spend vs Budget": ["Spend vs Budget", "支出対予算", "Gasto vs Presupuesto", "Spesa vs budget", "Dépenses vs budget"],
            "Organic Traffic": ["Organic Traffic", "オーガニックトラフィック", "Tráfico orgánico", "Traffico organico", "Trafic organique"]

        }

        $.ig.RevealSdkSettings.ensureFontsLoadedAsync().then(() => {
            $.ig.RVDashboard.loadDashboard("Marketing", (dashboard) => {
                var revealView = new $.ig.RevealView("#revealView");
                revealView.dashboard = dashboard;
            });
        });
    </script>
</body>

</html>